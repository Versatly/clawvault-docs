---
title: "checkpoint & recover"
description: "Context death resilience through state checkpoints and recovery"
---

import { Callout } from "fumadocs-ui/components/callout";

The `checkpoint` and `recover` commands provide resilience against context death — the loss of working state when a session crashes or resets unexpectedly.

## clawvault checkpoint

**Save a quick state checkpoint for recovery.**

```bash
clawvault checkpoint [options]
```

### Options

| Flag | Description | Default |
|------|-------------|---------|
| `--working-on <text>` | What you are currently working on | — |
| `--focus <text>` | Current focus area | — |
| `--blocked <text>` | What is blocking progress | — |
| `--urgent` | Trigger OpenClaw wake after checkpoint | false |
| `-v, --vault <path>` | Vault path | Nearest vault |
| `--json` | Output as JSON | false |

### Examples

```bash
# Quick checkpoint
clawvault checkpoint --working-on "auth refactor" --focus "token validation"

# Checkpoint with blocker info
clawvault checkpoint \
  --working-on "API integration" \
  --focus "rate limiting" \
  --blocked "waiting for vendor docs"

# Checkpoint every 10-15 minutes during heavy work
clawvault checkpoint --working-on "database migration" --focus "schema changes"
```

<Callout type="info">
  Checkpoints are also created automatically by the OpenClaw hook before session resets (`/new` command). Manual checkpoints are recommended every 10-15 minutes during intensive work.
</Callout>

## clawvault recover

**Check for context death and recover the last checkpoint.**

```bash
clawvault recover [options]
```

### Options

| Flag | Description | Default |
|------|-------------|---------|
| `--clear` | Clear the dirty death flag after recovery | false |
| `--verbose` | Show full checkpoint and handoff content | false |
| `-v, --vault <path>` | Vault path | Nearest vault |
| `--json` | Output as JSON | false |

### Examples

```bash
# Check for context death
clawvault recover

# Recover and clear the death flag
clawvault recover --clear

# Full recovery details as JSON (for scripting)
clawvault recover --verbose --json
```

## How Context Death Resilience Works

1. **Checkpoint** writes your current state to `.clawvault/checkpoint.json`
2. A **dirty flag** is set when a session starts
3. If the session crashes without a clean `sleep`, the flag remains dirty
4. On next startup, **recover** detects the dirty flag and restores the checkpoint
5. The OpenClaw hook runs this automatically on `gateway:startup`

<Callout type="warn">
  `recover` is typically called automatically by `clawvault wake`. You rarely need to call it directly unless debugging or scripting.
</Callout>
