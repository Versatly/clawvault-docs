---
title: "Task Management"
description: "File-based, frontmatter-driven task management that works with Obsidian and multi-agent workflows."
---

import { Callout } from "fumadocs-ui/components/callout";

# Task Management

ClawVault's task system is **file-based and frontmatter-driven**. Every task is a Markdown file with YAML frontmatter, stored in your vault's `tasks/` directory. This means tasks are searchable, version-controlled, and fully compatible with Obsidian.

For complete reference on task and project primitives — schemas, CLI flags, and workflows — see [Primitives](/primitives/overview).

## Creating Tasks

```bash
clawvault task add "Implement auth flow" --project api --owner clawdious --priority high
```

This creates a Markdown file in `tasks/` with frontmatter:

```yaml
---
title: Implement auth flow
status: open
project: api
owner: clawdious
priority: high
due: 2026-02-20
tags: [backend, auth]
description: Add OAuth callback handling and token refresh.
estimate: 6h
parent: null
depends_on: []
created: 2026-02-15T10:00:00Z
updated: 2026-02-15T10:00:00Z
---
```

### Options

| Flag | Description | Example |
|------|-------------|---------|
| `--project` | Project grouping | `--project api` |
| `--owner` | Assigned agent or person | `--owner clawdious` |
| `--priority` | `low`, `medium`, `high`, `critical` | `--priority high` |
| `--due` | Due date (`YYYY-MM-DD`) | `--due 2026-02-20` |
| `--tags` | Comma-separated tags | `--tags "backend,urgent"` |

## Listing & Filtering

```bash
# All tasks
clawvault task list

# Filter by project
clawvault task list --project api

# Filter by owner and status
clawvault task list --owner clawdious --status in-progress

# Show only tasks with due dates
clawvault task list --due

# Filter by tag
clawvault task list --tag backend

# Show overdue tasks
clawvault task list --overdue

# Combine filters
clawvault task list --project api --priority high --status open
```

Output shows a compact table with ID, title, status, owner, and priority.

## Enriched Task Frontmatter (v2.4.6)

Task files now support richer planning metadata:

| Field | Purpose |
|-------|---------|
| `due` | Deadline date for scheduling and overdue detection |
| `tags` | Topic or domain tags for filtering |
| `description` | Longer task context beyond the title |
| `estimate` | Time/effort estimate (for example, `2h`, `1d`) |
| `parent` | Parent task ID for subtask hierarchy |
| `depends_on` | Task IDs that must be completed first |

## Updating Status

Every status change requires a reason and supports optional metadata:

```bash
clawvault task update implement-auth-flow --status in-progress --reason "starting work" --confidence 0.9
```

### Available Statuses

`open` → `in-progress` → `done`

You can also set `blocked` from any active status:

```bash
clawvault task update implement-auth-flow --status blocked --reason "waiting on API keys"
```

### Completing Tasks

The `done` shorthand completes a task in one step:

```bash
clawvault task done implement-auth-flow --reason "shipped to production"
```

## Backlog

The backlog is a separate staging area for ideas and future work:

```bash
# Add to backlog
clawvault backlog add "Refactor logging system" --project infra

# List backlog items
clawvault backlog list
clawvault backlog list --project infra

# Promote to active task
clawvault backlog promote refactor-logging-system --owner clawdious --priority medium
```

Promoting a backlog item creates a proper task file in `tasks/` and removes it from the backlog.

## Blocked Task Triage

Quickly see what's stuck:

```bash
# All blocked tasks
clawvault blocked

# Only escalated blocked tasks
clawvault blocked --escalated
```

<Callout type="warn">
Escalated tasks have been blocked 3 or more times. These need human attention — review them daily.
</Callout>

## Transition Ledger

Every status change is logged to `ledger/transitions/YYYY-MM-DD.jsonl`. This gives you a complete audit trail:

```jsonl
{"task_id":"implement-auth-flow","agent_id":"clawdious","from_status":"open","to_status":"in-progress","timestamp":"2026-02-15T10:05:00Z","confidence":0.9,"cost_tokens":null,"reason":"starting work"}
{"task_id":"implement-auth-flow","agent_id":"clawdious","from_status":"in-progress","to_status":"done","timestamp":"2026-02-15T14:30:00Z","confidence":1,"cost_tokens":null,"reason":"shipped"}
```

Query transitions:

```bash
# All transitions for a task
clawvault task transitions implement-auth-flow

# All transitions by an agent
clawvault task transitions --agent clawdious

# Only regression transitions
clawvault task transitions --failed
```

### Auto-Escalation

When a task moves to `blocked` **3 or more times**, ClawVault automatically sets an escalation flag in the task's frontmatter. These show up in `clawvault blocked --escalated` and in the Obsidian Bases `blocked.base` view.

### Regression Detection

Backward transitions (e.g., `review` → `in-progress`, `done` → `todo`) are flagged in the ledger with `"regression": true`. This helps identify tasks that keep bouncing back and may need a different approach.

## Subtasks and Hierarchy

Use the `parent` field to link child tasks to a parent task. This is useful for breaking large efforts into smaller, independently trackable units while preserving a clear hierarchy in frontmatter.

## Task Dependencies

Use `depends_on` to model task prerequisites. Dependencies make blocked work explicit and improve planning when coordinating across multiple agents or parallel streams.

## Obsidian Integration

ClawVault generates [Obsidian Bases](https://obsidian.md/blog/bases/) views for visual task management:

| Base File | View |
|-----------|------|
| `all-tasks.base` | Every task, sortable by status/priority/date |
| `blocked.base` | Blocked tasks with escalation indicators |
| `by-project.base` | Tasks grouped by project |
| `by-owner.base` | Tasks grouped by owner |
| `backlog.base` | Backlog items with priority sorting |

These are generated during `clawvault init` and `clawvault setup`. Open them in Obsidian for spreadsheet-like views of your tasks.

You can also use the **Kanban plugin** in Obsidian to get a drag-and-drop board view of your tasks, organized by status columns.

### Kanban Sync Workflow

```bash
# 1) Generate board markdown from task state
clawvault kanban sync

# 2) Edit lanes/cards in Obsidian Kanban (Board.md)

# 3) Import board changes back into task files
clawvault kanban import
```

`kanban import` detects lane changes and updates task frontmatter fields such as status, priority, project, and owner.

## Multi-Agent Workflows

ClawVault is built for environments where multiple agents (and humans) work on the same vault:

- **Owner tracking**: Every task has an `--owner` field. Filter by owner to see each agent's workload.
- **Agent transitions**: The ledger records which agent made each status change, so you can trace who did what.
- **Confidence scores**: Use `--confidence` (0.0–1.0) to signal how certain an agent is about a transition.

```bash
# See what agent-2 is working on
clawvault task list --owner agent-2 --status in-progress

# Check all transitions by a specific agent
clawvault task transitions --agent agent-2
```

## Best Practices

<Callout type="info">
**Always use `--reason`**. Every status change should explain why. Your future self (and other agents) will thank you.
</Callout>

- **Checkpoint before heavy work**: Run `clawvault checkpoint` before starting a complex task so you can recover if something goes wrong.
- **Review escalated tasks daily**: `clawvault blocked --escalated` surfaces tasks that keep getting stuck. These usually need a human decision.
- **Use backlog for ideas**: Don't create active tasks for "someday" items. Put them in the backlog and promote when ready.
- **Track confidence**: When an agent isn't sure about a result, `--confidence 0.6` signals that a review is warranted.

## Related

- [Task command reference](/commands/task)
- [Kanban command reference](/commands/kanban)
- [Backlog command reference](/commands/backlog)
- [Multi-Agent Guide](./multi-agent)
- [Obsidian Integration](./obsidian)
